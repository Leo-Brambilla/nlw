(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6832],{36888:function(e,t,n){"use strict";n.d(t,{fC:function(){return b},aV:function(){return y},xz:function(){return j},VY:function(){return w}});var r=n(66195),i=n(863),o=n(65071),a=n(39920),s=n(95355),c=n(32707),l=n(76652),d=n(67294),u=n(87462);const[f,p]=(0,c.b)("Tabs",[i.Pc]),m=(0,i.Pc)(),[h,v]=f("Tabs");function x(e,t){return`${e}-trigger-${t}`}function g(e,t){return`${e}-content-${t}`}const b=d.forwardRef(((e,t)=>{const{__scopeTabs:n,value:i,onValueChange:s,defaultValue:c,orientation:l="horizontal",dir:f="ltr",activationMode:p="automatic",...m}=e,[v,x]=(0,a.T)({prop:i,onChange:s,defaultProp:c});return d.createElement(h,{scope:n,baseId:(0,r.M)(),value:v,onValueChange:x,orientation:l,dir:f,activationMode:p},d.createElement(o.W.div,(0,u.Z)({"data-orientation":l},m,{ref:t})))})),y=d.forwardRef(((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,s=v("TabsList",n),c=m(n);return d.createElement(i.fC,(0,u.Z)({asChild:!0},c,{orientation:s.orientation,dir:s.dir,loop:r}),d.createElement(o.W.div,(0,u.Z)({role:"tablist",dir:s.dir},a,{ref:t})))})),j=d.forwardRef(((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...c}=e,f=v("TabsTrigger",n),p=m(n),h=x(f.baseId,r),b=g(f.baseId,r),y=r===f.value,j=(0,s.W)((()=>f.onValueChange(r)));return d.createElement(i.ck,(0,u.Z)({asChild:!0},p,{focusable:!a,active:y}),d.createElement(o.W.div,(0,u.Z)({role:"tab","aria-selected":y,"aria-controls":b,"aria-disabled":a||void 0,"data-state":y?"active":"inactive","data-disabled":a?"":void 0,id:h},c,{ref:t,onKeyDown:(0,l.M)(e.onKeyDown,(e=>{a||" "!==e.key&&"Enter"!==e.key||j()})),onMouseDown:(0,l.M)(e.onMouseDown,(e=>{a||0!==e.button||!1!==e.ctrlKey||j()})),onFocus:(0,l.M)(e.onFocus,(()=>{const e="manual"!==f.activationMode;y||a||!e||j()}))})))})),w=d.forwardRef(((e,t)=>{const{__scopeTabs:n,value:r,children:i,...a}=e,s=v("TabsContent",n),c=x(s.baseId,r),l=g(s.baseId,r),f=r===s.value;return d.createElement(o.W.div,(0,u.Z)({"data-state":f?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:l,tabIndex:0},a,{ref:t}),f&&i)}))},61973:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(83946),i=n(51820),o=n(13882);function a(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(t);return(0,i.Z)(e,1e3*n)}},46632:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/plus/lesson/[slug]",function(){return n(6918)}])},89591:function(e,t,n){"use strict";n.d(t,{l:function(){return x}});var r=n(85893),i=n(60155),o=n(86529),a=n(67294);var s=n(25894),c=n(22030),l=(0,c.zo)("button",{all:"unset",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",height:"2rem",width:"2rem",top:"-4.5rem",left:"auto",right:"$10",background:"$grey-700",borderRadius:"$sm",cursor:"pointer",transition:"0.3s",svg:{color:"$grey-100"},"&:hover":{filter:"brightness(1.2)"},"@mobile":{top:"-4rem"},variants:{direction:{right:{left:"auto",right:"0",transform:"rotate(180deg)","@mobile":{right:0}}}}}),d=(0,c.zo)("div"),u=(0,c.zo)("div",{position:"relative",".react-multi-carousel-list":{position:"static",overflow:"hidden",margin:"0 -0.75rem"}});function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var m={large:{breakpoint:{max:99999,min:1280},items:4,slidesToSlide:4},medium:{breakpoint:{max:1280,min:768},items:3,slidesToSlide:3},small:{breakpoint:{max:768,min:540},items:2,slidesToSlide:2},xsmall:{breakpoint:{max:540,min:0},items:1,slidesToSlide:1}},h={large:{breakpoint:{max:99999,min:1280},value:4},medium:{breakpoint:{max:1280,min:768},value:3},small:{breakpoint:{max:768,min:540},value:2},xsmall:{breakpoint:{max:540,min:0},value:1}},v=function(e){var t=e.direction,n=p(e,["direction"]);return(0,r.jsx)(l,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({direction:t},n,{children:(0,r.jsx)(i.dUf,{size:24})}))},x=function(e){var t=e.title,n=e.totalItems,i=e.responsive,c=void 0===i?m:i,l=e.queries,f=void 0===l?h:l,p=e.children,x=function(e){var t=(0,a.useState)(null),n=t[0],r=t[1];return(0,a.useEffect)((function(){var t=function(){var t=Object.keys(e),n=Object.values(e).findIndex((function(e){var t=e.breakpoint,n=t.max,r=t.min;return window.innerWidth>=r&&window.innerWidth<=n}));return-1!==n&&r(e[t[n]].value),null};return t(),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[e]),n}(f)||1;return(0,r.jsxs)(d,{children:[(0,r.jsx)(s.X6,{css:{marginBottom:"$8"},children:t}),(0,r.jsx)(u,{children:(0,r.jsx)(o.default,{responsive:c,draggable:!1,customLeftArrow:(0,r.jsx)(v,{direction:"left"}),customRightArrow:(0,r.jsx)(v,{direction:"right"}),arrows:n>x,infinite:!0,children:p})})]})}},85203:function(e,t,n){"use strict";n.d(t,{q:function(){return i}});var r=n(12318),i=(0,n(22030).zo)("div",{fontSize:"16px",lineHeight:"1.5","> * + *":{marginTop:"1.5em"},p:{color:"#e1e1e6"},pre:{padding:"1em 1.5em !important",lineHeight:"2"},"pre, code":{fontSize:"14px",fontFamily:"'Fira Code', monospace",background:"#121214 !important",borderRadius:"5px",whiteSpace:"pre-wrap"},"p > code":{padding:"5px",margin:"0 4px"},a:{color:"#8257e6",fontWeight:"bold","&:hover":{color:"#896ceb",textDecoration:"underline"}},variants:{preview:{true:{height:"304px",overflowY:"auto",padding:"14px 20px",background:"rgba(0, 0, 0, 0.12)",borderRadius:"5px",scrollbarStyle:r.T}}},"@media (max-width: 768px)":{fontSize:"15px","pre, code":{fontSize:"13px"}}})},53229:function(e,t,n){"use strict";n.d(t,{mQ:function(){return l},nU:function(){return f},dr:function(){return d},SP:function(){return u}});var r=n(22030),i=n(36888),o=(0,r.zo)(i.fC),a=(0,r.zo)(i.aV,{display:"flex",gap:"1.5rem",borderBottom:"1px solid #29292e","@media (max-width: 768px)":{flexDirection:"column",gap:"1rem",borderBottom:"none"}}),s=(0,r.zo)(i.xz,{fontSize:"1rem",lineHeight:"1.2rem",color:"#737380",cursor:"pointer",variants:{variant:{standard:{padding:"1rem 0",background:"transparent",'&[data-state="active"]':{fontWeight:"bold",color:"#e1e1e6",boxShadow:"inset 0 -1px 0 0 #8257E5, 0 1px 0 0 #8257E5"},"@media (max-width: 768px)":{padding:"0.25rem 1rem",'&[data-state="active"]':{boxShadow:"inset 1px 0 0 0 #8257E5, -1px 0 0 0 #8257E5"}}}}},defaultVariants:{variant:"standard"}}),c=(0,r.zo)(i.VY,{marginTop:"2rem","@media (max-width: 768px)":{marginTop:"1.5rem"}}),l=o;l.displayName="TabsList";var d=a;d.displayName="TabsList";var u=s;u.displayName="TabsTrigger";var f=c;f.displayName="TabsContent"},83319:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=n(67294),i=n(76231);function o(e,t){var n=(0,r.useCallback)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(r){return console.warn("Error reading localStorage key \u201c".concat(e,"\u201d:"),r),t}}),[t,e]),o=(0,r.useState)(n),a=o[0],s=o[1],c=(0,r.useCallback)((function(t){try{var n=(r=t,(null!=(i=Function)&&"undefined"!==typeof Symbol&&i[Symbol.hasInstance]?i[Symbol.hasInstance](r):r instanceof i)?t(a):t);window.localStorage.setItem(e,JSON.stringify(n)),s(n),window.dispatchEvent(new Event("local-storage"))}catch(o){console.warn("Error setting localStorage key \u201c".concat(e,"\u201d:"),o)}var r,i}),[]);(0,r.useEffect)((function(){s(n())}),[]);var l=(0,r.useCallback)((function(t){var r;(null===(r=t)||void 0===r?void 0:r.key)&&t.key!==e||s(n())}),[e,n]);return(0,i.Z)("storage",l),(0,i.Z)("local-storage",l),[a,c]}},50918:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var r=n(67294),i=function(e){var t=(0,r.useState)(!1),n=t[0],i=t[1];return(0,r.useEffect)((function(){var t=window.matchMedia(e),n=function(e){return i(e.matches)};return t.addEventListener("change",n),i(t.matches),function(){t.removeEventListener("change",n)}}),[e]),n}},91534:function(e,t,n){"use strict";n.d(t,{h:function(){return i},r:function(){return o}});var r=n(33481),i=function(e){var t=e.medium,n=e.campaign,i=e.content,o=(0,r.T)({utm_source:"platform_plus",utm_medium:t,utm_term:"organic",utm_campaign:n,utm_content:i});return"https://app.rocketseat.com.br/checkout/rs-plus?".concat(o)},o=function(e){var t=e.medium,n=e.campaign,i=e.content,o=(0,r.T)({utm_source:"platform_plus",utm_medium:t,utm_term:"organic",utm_campaign:n,utm_content:i});return"https://lp.rocketseat.com.br/plus?".concat(o)}},6918:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return Et},default:function(){return _t}});var r=n(28520),i=n.n(r),o=n(85893),a=n(32912),s=n(77349),c=n(94952),l=n(9008),d=n(41664),u=n(11163),f=n(67294),p=n(30724),m=n.n(p),h=n(72132),v=n(96486),x=n(55969),g=n(30552),b=n(12077),y=n(85203),j=n(86922),w=n(53229),k=n(18023),$=n(37703),C=n(14289),z=n(71356),S=n(83319),T=n(77583),I=n(16334),_=n(65718),E=n(25894),R=n(89583),O=n(22030),P=(0,O.zo)("div",{gap:"0.5rem",display:"flex",alignItems:"center",width:"100%",maxWidth:"352px","@mobile":{maxWidth:"100%"}}),W=(0,O.zo)("button",{all:"unset",flexGrow:1,gap:"$2",display:"flex",alignItems:"center",justifyContent:"center",height:"2.5rem",px:"$5",borderRadius:"$sm",backgroundColor:"$grey-800",cursor:"pointer",div:{display:"flex",alignItems:"center",justifyContent:"center",height:"1rem",width:"1rem",backgroundColor:"${theme.colors.experts.mainShape}",border:"1.5px solid #7c7c8a",borderRadius:"$xs",cursor:"pointer",overflow:"hidden",transition:"0.2s"},svg:{opacity:"0",transition:"0.2s ease-in"},p:{margin:0,fontWeight:"$bold",textTransform:"uppercase",color:"$white"},"@mobile":{px:"$4"},variants:{checked:{true:{backgroundColor:"#0D4722",div:{backgroundColor:"$success-base",borderColor:"$success-base"},svg:{opacity:"1",transition:"0.2s ease-in"}}}}});function V(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){V(o,r,i,a,s,"next",e)}function s(e){V(o,r,i,a,s,"throw",e)}a(void 0)}))}}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var M={service:"plus"},Z=function(e){var t=e.video,n=A((0,I.yX)({context:M,variables:{id:t.id},onError:function(){}}),1)[0],r=A((0,I._w)({context:M,variables:{id:t.id},onError:function(){}}),1)[0],a=A((0,I.E7)({context:M,variables:{id:t.id},onError:function(){}}),1)[0],s=A((0,I.I3)({context:M,variables:{id:t.id},onError:function(){}}),1)[0],c=D(i().mark((function e(){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.isWatchedVideo?r:n,e.next=3,o({update:function(e){e.modify({id:e.identify({__typename:"Video",id:t.id}),fields:{isWatchedVideo:function(){return!t.isWatchedVideo}},broadcast:!0})}});case 3:case"end":return e.stop()}}),e)}))),l=D(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.isBookmarkVideo?s:a,e.next=3,n({update:function(e){e.modify({id:e.identify({__typename:"Video",id:t.id}),fields:{isBookmarkVideo:function(){return!t.isBookmarkVideo}},broadcast:!0})}});case 3:case"end":return e.stop()}}),e)})));return(0,o.jsxs)(P,{children:[(0,o.jsxs)(W,{checked:t.isWatchedVideo,onClick:c,children:[(0,o.jsx)("div",{children:(0,o.jsx)(R.l_A,{color:"#fff",size:10})}),(0,o.jsx)(E.xv,{size:"xs",children:"Assistido"})]}),(0,o.jsxs)(W,{checked:t.isBookmarkVideo,onClick:l,children:[(0,o.jsx)("div",{children:(0,o.jsx)(R.l_A,{color:"#fff",size:10})}),(0,o.jsx)(E.xv,{size:"xs",children:"Adicionar a minha lista"})]})]})},F=n(95603),N=(0,O.zo)("div",{flexShrink:"0",width:"18.125rem",borderRadius:"$sm",overflow:"hidden","@mobile":{width:"100%"}}),B=(0,O.zo)("header",{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"$3 $6",background:"linear-gradient(90deg, #29292E 0%, rgba(32, 32, 36, 0) 100%)"}),L=(0,O.zo)("ul",{display:"flex",flexDirection:"column",padding:"$3 $4",background:"$grey-800",li:{position:"relative",display:"block",paddingLeft:"1em",fontSize:"$sm",lineHeight:"200%","&:before":{content:"",position:"absolute",width:"3px",height:"3px",background:"#a8a8b3",borderRadius:"50%",left:"0",top:"50%",transform:"translateY(-50%)"}},a:{color:"$grey-200",transition:"color 0.2s",textDecoration:"underline"},"a:hover":{color:"$grey-200"}}),U=function(){var e=(0,F.R)().files;return(0,o.jsxs)(N,{children:[(0,o.jsx)(B,{children:(0,o.jsx)(E.X6,{size:"sm",children:"Material complementar"})}),(0,o.jsx)(L,{children:e.map((function(e){var t=e.id,n=e.title,r=e.file;return(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:r,target:"blank",rel:"noopener noreferrer",children:n})},t)}))})]})},X=n(91534),H=(0,O.zo)("div",{flex:1,width:"100%",paddingBottom:"4.5rem",background:"$grey-800",borderRadius:"$sm","@mobile":{paddingBottom:"3.5rem"}}),G=(0,O.zo)("div",{position:"relative",paddingTop:"56.24%",backgroundImage:"linear-gradient(0deg, #121214 0%, rgba(18, 18, 20, 0.2) 100%), url(/assets/plus/images/player/background-exclusive-content.png)",backgroundRepeat:"no-repeat",backgroundSize:"contain"}),Y=(0,O.zo)("div",{position:"absolute",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",top:"0",right:"0",bottom:"0",left:"0","span, h2":{margin:0},div:{gap:"$2",display:"flex",marginTop:"2rem"},a:{textTransform:"uppercase"}}),q=function(){var e=(0,F.R)().slug,t=(0,X.r)({medium:"cta_lesson",campaign:"offer-plus-".concat(e),content:e}),n=(0,X.h)({medium:"cta_lesson",campaign:"offer-plus-".concat(e),content:e});return(0,o.jsx)(H,{children:(0,o.jsx)(G,{children:(0,o.jsxs)(Y,{children:[(0,o.jsx)(E.xv,{as:"span",children:"Conte\xfado exclusivo"}),(0,o.jsx)(E.X6,{size:"lg",children:"Rocketseat Plus"}),(0,o.jsxs)(E.xu,{children:[(0,o.jsx)(E.zx,{as:"a",variant:"secondary",href:t,target:"_blank",rel:"noopener noreferrer",children:"ver planos"}),(0,o.jsx)(E.zx,{as:"a",href:n,target:"_blank",rel:"noopener noreferrer",children:"Quero ser plus"})]})]})})})},Q=n(25675),J=n(60155),K=(0,O.zo)("div",{marginTop:"$10",padding:"$10",background:"url(/assets/plus/images/plus-banner-background.png) no-repeat center top",backgroundSize:"cover",borderRadius:"$sm",h2:{maxWidth:"34.625rem",margin:"$6 0 $10"},a:{width:"fit-content",textTransform:"uppercase"}}),ee=function(){var e=(0,F.R)().slug,t=(0,X.r)({medium:"cta_ver_beneficios_freelesson_banner",campaign:"offer-plus-".concat(e),content:e});return(0,o.jsxs)(K,{children:[(0,o.jsx)(Q.default,{src:"/assets/plus/images/rocketseat-plus.svg",width:138,height:24}),(0,o.jsx)(E.X6,{size:"md",children:"Assista centenas de conte\xfados como esse assinando a Rocketseat Plus"}),(0,o.jsx)(E.zx,{as:"a",size:"lg",rightIcon:(0,o.jsx)(J.qvS,{size:24}),href:t,target:"_blank",rel:"noreferrer",children:"Ver benef\xedcios"})]})},te=n(13643),ne=n(89591),re=n(68696),ie=(0,O.zo)("div",{marginTop:"46px",".react-multi-carousel-list":{position:"static",overflow:"hidden",margin:"$8 -0.75rem"}}),oe=function(){var e=(0,F.R)(),t=e.id,n=e.playlist,r=(null===n||void 0===n?void 0:n.videos.nodes)||[],i=r.length;return(0,o.jsxs)(ie,{children:[(0,o.jsxs)(E.X6,{size:{"@mobile":"sm"},css:{marginBottom:"$8"},children:["Mais videos dessa playlist: ",null===n||void 0===n?void 0:n.title]}),(0,o.jsx)(ne.l,{totalItems:i-1,children:r.map((function(e,n){return e.id===t?null:(0,o.jsx)(re.y,{video:e,playlistIndicator:(0,o.jsx)(te.C,{size:"sm",css:{position:"absolute",bottom:10,left:8},children:"".concat(n+1," / ").concat(r.length)}),css:{padding:"0 0.75rem"}},e.id)}))})]})};function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var se=function(){var e=ae((0,S._)("@Skylab:autoplay",!1),2);return[e[0],e[1]]},ce=function(e){var t=e.active,n=void 0!==t&&t?"color-player":"player";return(0,o.jsx)(Q.default,{src:"/assets/plus/icons/playlist/".concat(n,".svg"),alt:"Icone de um player",width:24,height:24})},le=n(12318),de=(0,O.zo)("div",{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",overflow:"hidden"}),ue=(0,O.zo)("div",{overflowY:"auto",scrollbarStyle:le.T}),fe=(0,O.zo)("a",{gap:"$5",display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:"$5",color:"$grey-200",cursor:"pointer",transition:"background 0.2s","&:hover":{background:"linear-gradient(90deg, #202024 0%, #19191C 100%)"},"> strong":{display:"flex",alignItems:"center",justifyContent:"center",minWidth:"1.5rem",minHeight:"1.5rem",background:"$grey-600",borderRadius:"$full",color:"$white"},"> div":{gap:"$7",display:"flex",alignItems:"center",justifyContent:"center",height:"4rem",width:"100%",paddingRight:"$4",borderBottom:"1px solid $grey-600"},"> div > span":{minWidth:"32px",minHeight:"32px"},variants:{active:{true:{fontWeight:"$bold",color:"$text-title"}}}}),pe=(0,O.zo)("footer",{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"$6",background:"#202024"});function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var he=function(e){var t=e.onChangeAutoplay,n=me(se(),1)[0],r=(0,F.R)(),i=r.slug,a=r.playlist,s=(null===a||void 0===a?void 0:a.videos.nodes)||[];return(0,o.jsxs)(de,{children:[(0,o.jsx)(ue,{children:s.map((function(e,t){var n=e.slug===i;return(0,o.jsx)(d.default,{href:"/plus/lesson/".concat(e.slug),prefetch:!1,passHref:!0,children:(0,o.jsxs)(fe,{active:n,children:[(0,o.jsx)(E.xv,{size:"xs",as:"strong",children:t+1}),(0,o.jsxs)(E.xu,{children:[(0,o.jsx)(E.xv,{size:"sm",children:e.title}),(0,o.jsx)(ce,{active:n})]})]})},e.slug)}))}),(0,o.jsxs)(pe,{children:[(0,o.jsx)(E.xv,{size:"sm",children:"Autoplay playlist"}),(0,o.jsx)(E.rs,{onCheckedChange:t,defaultChecked:n})]})]})},ve=n(61973),xe=n(69119),ge=(0,O.zo)("div",{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",overflow:"hidden"}),be=(0,O.zo)("div",{overflowY:"auto",scrollbarStyle:le.T}),ye=(0,O.zo)("a",{display:"flex",alignItems:"center",width:"100%",color:"$grey-300",transition:"background 0.2s",cursor:"pointer","&:hover":{background:"linear-gradient(90deg, #202024 0%, #19191C 100%)",color:"$white"},"p, span":{margin:0,fontWeight:"inherit",color:"inherit"},"& + & > div":{borderTop:"1px solid $grey-600"},variants:{active:{true:{fontWeight:"$bold",color:"$grey-100"}}}});function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e,t){var n=void 0===t||t,r=!Number.isNaN(Number(e))&&(0,a.Z)((0,ve.Z)((0,xe.Z)(new Date),Number(e)),"HH:mm:ss");return n&&r?r.replace(/^00:/,""):r}var ke=function(e){var t=e.onChangeCurrentSection,n=(0,f.useRef)(null),r=(0,f.useRef)([]),i=(0,F.R)(),a=i.dispatch,s=i.sections,c=i.currentSection,l=(0,f.useMemo)((function(){return s.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){je(e,t,n[t])}))}return e}({},e,{formattedTime:we(e.time)})}))}),[s]);return(0,f.useEffect)((function(){var e=null===n||void 0===n?void 0:n.current,t=null===r||void 0===r?void 0:r.current[null===c||void 0===c?void 0:c.id];e&&t&&e.scrollTo({top:t.offsetTop-e.offsetTop,behavior:"smooth"})}),[null===c||void 0===c?void 0:c.id]),(0,o.jsx)(ge,{children:(0,o.jsx)(be,{ref:n,children:l.map((function(e){return(0,o.jsx)(ye,{onClick:function(){return function(e){a({type:"SET_CURRENT",payload:{sectionId:e.id}}),t(e)}(e)},active:(null===c||void 0===c?void 0:c.id)===e.id,ref:function(t){r.current[e.id]=t},children:(0,o.jsxs)(E.xu,{css:{flex:1,display:"flex",justifyContent:"space-between",padding:"$3 $6 $3 0",marginLeft:"$6"},children:[(0,o.jsx)(E.xv,{size:"sm",css:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"260px"},children:e.title}),(0,o.jsx)(E.xv,{as:"span",size:"sm",children:e.formattedTime})]})},e.id)}))})})},$e=n(36888),Ce=(0,O.zo)("aside",{position:"relative",width:"22rem",background:"#19191C",borderRadius:"$sm",overflow:"hidden","@mobile":{width:"100%",height:"30rem"},variants:{hidden:{true:{display:"none"}}}}),ze=(0,O.zo)($e.fC,{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"}),Se=(0,O.zo)($e.aV,{flexShrink:0,display:"flex",borderBottom:"1px solid $grey-700"}),Te=(0,O.zo)($e.xz,{all:"unset",flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"$4",padding:"0 20px",height:"3rem",background:"$grey-700",color:"$grey-200",'&[data-state="active"]':{background:"$grey-600",color:"$grey-100",fontWeight:"$bold"},variants:{clickable:{true:{"&:hover":{cursor:"pointer"},'&[data-state="active"]':{boxShadow:"inset 0 -1px 0 0 $colors$rocketseat-mid, 0 1px 0 0 $colors$rocketseat-mid"}},false:{}}},defaultVariants:{clickable:!0}}),Ie=(0,O.zo)($e.VY,{display:"flex",flexDirection:"column",overflow:"hidden",'&[data-state="active"]':{height:"100%"}}),_e=(0,O.zo)("div",{overflowY:"auto",scrollbarStyle:le.T}),Ee=((0,O.zo)("a",{display:"flex",alignItems:"center",width:"100%",color:"$grey-300",transition:"background 0.2s",cursor:"pointer","&:hover":{background:"linear-gradient(90deg, #202024 0%, #19191C 100%)",color:"$white"},"p, span":{margin:0},"& + & > div":{borderTop:"1px solid $grey-600"}}),(0,O.zo)("a",{gap:"$5",display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:"$5",color:"$grey-200",cursor:"pointer",transition:"background 0.2s","&:hover":{background:"linear-gradient(90deg, #202024 0%, #19191C 100%)"},"> strong":{display:"flex",alignItems:"center",justifyContent:"center",minWidth:"1.5rem",minHeight:"1.5rem",background:"$grey-600",borderRadius:"$full",color:"$white"},"> div":{gap:"$7",display:"flex",alignItems:"center",justifyContent:"center",height:"4rem",width:"100%",paddingRight:"$4",borderBottom:"1px solid $grey-600"},"> div > span":{minWidth:"32px",minHeight:"32px"},variants:{active:{true:{fontWeight:"$bold",color:"$text-title"}}}}),(0,O.zo)("footer",{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"$6",background:"#202024"}),function(e){var t=e.hidden,n=e.onSeek,r=e.onChangeAutoplay,i=(0,f.useState)("playlist"),a=i[0],s=i[1],c=(0,F.R)(),l=c.playlist,d=c.sections,u=(0,$.Q)().isFreemiumMember,p=d.length>0,m=!!l,h=(0,f.useMemo)((function(){return(null===l||void 0===l?void 0:l.videos.nodes[0].isFree)&&u}),[u,null===l||void 0===l?void 0:l.videos.nodes]);return(0,f.useEffect)((function(){s((function(){return m?"playlist":"indice"}))}),[m]),(0,o.jsx)(Ce,{hidden:t,children:(0,o.jsxs)(ze,{value:a,onValueChange:function(e){s(e)},children:[(0,o.jsxs)(Se,{children:[p&&(0,o.jsx)(Te,{value:"indice",clickable:m,children:"\xcdndice"}),m&&(0,o.jsxs)(Te,{value:"playlist",clickable:p,children:["Playlist"," ",h&&(0,o.jsx)(te.C,{variant:"success",children:"1\xaa aula Gr\xe1tis"})]})]}),p&&(0,o.jsx)(Ie,{value:"indice",children:(0,o.jsx)(_e,{children:(0,o.jsx)(ke,{onChangeCurrentSection:function(e){n(e.time,!0)}})})}),m&&(0,o.jsx)(Ie,{value:"playlist",children:(0,o.jsx)(he,{onChangeAutoplay:r})})]})})}),Re=n(67935),Oe=n(27114),Pe=(0,O.zo)("div"),We=(0,O.zo)("div",{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"$sm",textarea:{resize:"none",height:"8.875rem",borderRadius:0,borderColor:"transparent",fontSize:"$md"}}),Ve=function(e){var t=e.onCancel,n=e.onSubmit,r=(0,f.useState)(""),i=r[0],a=r[1],s=(0,f.useCallback)((function(){t()}),[t]),c=(0,f.useCallback)((function(){n(i)}),[i,n]);return(0,o.jsxs)(Pe,{children:[(0,o.jsxs)("header",{children:[(0,o.jsx)(E.xv,{size:"md",children:"Gostaria de fazer um coment\xe1rio?"}),(0,o.jsx)(E.hU,{size:"sm",variant:"tertiary",icon:(0,o.jsx)(J.IOM,{size:"20"}),onClick:s})]}),(0,o.jsx)(We,{children:(0,o.jsx)("textarea",{maxLength:450,value:i,placeholder:"Digite aqui caso queira complementar sua avalia\xe7\xe3o",onChange:function(e){return a(e.target.value)}})}),!!i&&(0,o.jsx)(E.zx,{size:"lg",variant:"secondary",full:!0,css:{textTransform:"uppercase",borderRadius:"0 0 $sm $sm"},onClick:c,children:"Enviar coment\xe1rio"})]})},De=(0,O.zo)("div"),Ae=(0,O.zo)("div",{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"$sm",height:"6rem"}),Me=(0,O.zo)("button",{backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",margin:"0 0.8rem",transition:"0.3s ease-out","svg:hover":{filter:"brightness(1.2)"}}),Ze=["TOO_BAD","BAD","REGULAR","GOOD","VERY_GOOD"],Fe=function(e){var t=e.onCancel,n=e.onSubmit,r=(0,f.useState)(null),i=r[0],a=r[1],s=(0,f.useCallback)((function(){t()}),[t]),c=(0,f.useCallback)((function(){n(i)}),[n,i]);return(0,o.jsxs)(De,{children:[(0,o.jsxs)("header",{children:[(0,o.jsx)(E.xv,{size:"md",children:"Gostaria de fazer um coment\xe1rio?"}),(0,o.jsx)(E.hU,{size:"sm",variant:"tertiary",icon:(0,o.jsx)(J.IOM,{size:"20"}),onClick:s})]}),(0,o.jsx)(Ae,{children:Ze.map((function(e,t){var n=t<=Ze.findIndex((function(e){return e===i}));return(0,o.jsx)(Me,{onClick:function(){return a(e)},children:n?(0,o.jsx)(R.QJe,{size:32,color:"#996DFF"}):(0,o.jsx)(R.jJN,{size:32,color:"#C4C4CC"})},e)}))}),i&&(0,o.jsx)(E.zx,{size:"lg",variant:"secondary",full:!0,css:{textTransform:"uppercase",borderRadius:"0 0 $sm $sm"},onClick:c,children:"Enviar feedback"})]})};Fe.title="Como voc\xea avalia esse conte\xfado?";var Ne=n(86893),Be=(0,O.F4)({from:{transform:"translateZ(50px)",opacity:"0"},to:{transform:"translateZ(0)",opacity:"1"}}),Le=(0,O.zo)("div",{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"5rem",fontSize:"1.125rem",borderRadius:"$sm",svg:{color:"${theme.colors.experts.green}",paddingRight:"1.25rem",width:"2.625rem",height:"2.625rem"},background:"linear-gradient(to right, #0F3924 0%, #202024 80%)",animation:"".concat(Be," 0.5s ease-in-out")}),Ue=function(e){var t=e.title;return(0,o.jsxs)(Le,{children:[(0,o.jsx)(Ne.fmn,{}),t]})},Xe=(0,O.F4)({from:{transform:"translateZ(50px)",opacity:"0"},to:{transform:"translateZ(0)",opacity:"1"}}),He=(0,O.zo)("div",{position:"absolute",top:0,left:0,right:0,bottom:72,backdropFilter:"blur(0.5rem)",background:"linear-gradient(0deg, #121214 0%, rgba(18, 18, 20, 0.2) 100%)",zIndex:"$overlay",transition:"0.3s ease-in-out"}),Ge=(0,O.zo)("div",{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:"50%",maxWidth:"22rem",margin:"0 auto",zIndex:1,"@mobile":{width:"auto",maxWidth:"100%",margin:"$5",height:"auto"}}),Ye=(0,O.zo)("div",{width:"100%",borderRadius:"$sm",backgroundColor:"$grey-800",overflow:"hidden",animation:"".concat(Xe," 0.5s ease-in-out"),header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"$3 $6",background:"linear-gradient(90deg, #29292E 0%, rgba(32, 32, 36, 0) 100%)",p:{fontWeight:"bold",color:"$text-title"}}});function qe(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}function Qe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){qe(o,r,i,a,s,"next",e)}function s(e){qe(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ke=function(e){var t=e.visible,n=e.onCancel,r=e.currentTime,a=(0,f.useState)(1),s=a[0],c=a[1],l=(0,f.useState)(null),d=l[0],u=l[1],p=(0,F.R)().id,m=Je((0,I.Y8)({context:T.wj,onError:function(){}}),1)[0],h=(0,f.useCallback)((function(){n(),setTimeout((function(){return c(1)}),500)}),[n]),v=(0,f.useCallback)(Qe(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({variables:{data:{videoId:p,reaction:t,time:r}}});case 2:c(2),u(t);case 4:case"end":return e.stop()}}),e)}))),[r,m,p]),x=(0,f.useCallback)(Qe(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({variables:{data:{videoId:p,reaction:d,comment:t,time:r}}});case 2:c(4);case 3:case"end":return e.stop()}}),e)}))),[r,d,m,p]),g=function(){switch(s){case 1:return(0,o.jsx)(Fe,{onCancel:h,onSubmit:v});case 2:return setTimeout((function(){c(3)}),1500),(0,o.jsx)(Ue,{title:"Sua avalia\xe7\xe3o foi enviada"});case 3:return(0,o.jsx)(Ve,{onCancel:h,onSubmit:x});default:return setTimeout((function(){h()}),1500),(0,o.jsx)(Ue,{title:"Seu coment\xe1rio foi enviado"})}};return t?(0,o.jsx)(He,{children:(0,o.jsx)(Ge,{children:(0,o.jsx)(Ye,{children:(0,o.jsx)(g,{})})})}):null},et=(0,O.F4)({from:{transform:"translateZ(50px)",opacity:"0"},to:{transform:"translateZ(0)",opacity:"1"}}),tt=(0,O.zo)("div",{position:"absolute",top:0,left:0,right:0,bottom:72,backdropFilter:"blur(0.5rem)",background:"linear-gradient(0deg, #121214 0%, rgba(18, 18, 20, 0.2) 100%)",zIndex:"$overlay",transition:"0.3s ease-in-out"}),nt=(0,O.zo)("div",{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:"50%",maxWidth:"22rem",margin:"0 auto",zIndex:1,"@mobile":{width:"auto",maxWidth:"100%",margin:"$5",height:"auto"}}),rt=(0,O.zo)("div",{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",borderRadius:"$sm",overflow:"hidden",animation:"".concat(et," 0.5s ease-in-out"),"h2, span":{textShadow:"0px 0px 14px rgba(0, 0, 0, 0.8)"},span:{textAlign:"center"}}),it=(0,O.zo)("div",{gap:"$2",display:"flex",marginTop:"$8",a:{textTransform:"uppercase"}}),ot=function(e){var t=e.visible,n=(0,F.R)().slug,r=(0,X.r)({medium:"cta_saber_mais_freelesson_player",campaign:"offer-plus-".concat(n),content:n}),i=(0,X.h)({medium:"cta_quero_ser_plus_freelesson_player",campaign:"offer-plus-".concat(n),content:n});return t?(0,o.jsx)(tt,{children:(0,o.jsx)(nt,{children:(0,o.jsxs)(rt,{children:[(0,o.jsx)(E.X6,{size:"md",children:"Gostou da aula?"}),(0,o.jsx)(E.xv,{as:"span",children:"Assista mais centenas de conte\xfados como esse assinando a Rocketseat Plus"}),(0,o.jsxs)(it,{children:[(0,o.jsx)(E.zx,{as:"a",size:"lg",variant:"secondary",href:r,target:"_blank",rel:"noopener noreferrer",children:"Saber Mais"}),(0,o.jsx)(E.zx,{as:"a",size:"lg",href:i,target:"_blank",rel:"noopener noreferrer",children:"Quero ser plus"})]})]})})}):null},at=(0,O.zo)("div",{position:"relative",flex:1,width:"100%"}),st=(0,O.zo)("div",{display:"flex",alignItems:"center",justifyContent:"space-between",background:"$shape-primary",borderRadius:"0 0 $sm $sm",padding:"$4"});function ct(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){lt(e,t,n[t])}))}return e}function ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ft,pt={baseURL:"https://alpaca.rocketseat.com.br/eudora"},mt=(ft=i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oe.h.post("videos/watch-time",t,pt);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Unable to register watchTime",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})),function(){var e=this,t=arguments;return new Promise((function(n,r){var i=ft.apply(e,t);function o(e){ct(i,n,r,o,a,"next",e)}function a(e){ct(i,n,r,o,a,"throw",e)}o(void 0)}))}),ht=(0,f.forwardRef)((function(e,t){var n,r=e.platform,i=e.videoIdPlatform,a=e.videoId,s=e.startTime,c=void 0===s?0:s,l=e.autoplay,d=void 0!==l&&l,u=e.onSeek,p=e.onToggleTheater,m=e.onTimeUpdate,h=e.onEnd,v=(0,f.useState)(!1),x=v[0],g=v[1],b=(0,f.useState)(null),y=b[0],j=b[1],w=ut((0,S._)("@Skylab:plusDurationVideoId-".concat(i),0),2)[1],k=(0,F.R)().slug,C=(0,$.Q)().isPlusMember,z=(0,f.useCallback)((function(){var e=t.current;e.pause(),j(Math.floor(e.currentTime())),g(!0)}),[t]),T=(0,f.useCallback)((function(){g(!1)}),[]),I=(0,f.useCallback)((function(){h(),z()}),[z,h]);return(0,f.useEffect)((function(){k&&g(!1)}),[k]),(0,f.useEffect)((function(){var e;w(null===t||void 0===t||null===(e=t.current)||void 0===e?void 0:e.cache_.duration)}),[null===t||void 0===t||null===(n=t.current)||void 0===n?void 0:n.cache_.duration]),(0,o.jsxs)(at,{children:[(0,o.jsx)(Re.n,dt({platform:r,videoId:a,autoplay:d,startTime:c,onWatchTime:mt,onEnd:I},m&&{onTimeUpdate:m},{ref:t})),(0,o.jsxs)(st,{children:[(0,o.jsxs)(E.xu,{css:{display:"flex",gap:"$2"},children:[(0,o.jsx)(E.hU,{icon:(0,o.jsx)(Q.default,{src:"/assets/plus/icons/player/rewind.svg",alt:"Rewind 10s",width:24,height:24}),variant:"secondary",onClick:function(){return u(-10)}}),(0,o.jsx)(E.hU,{icon:(0,o.jsx)(Q.default,{src:"/assets/plus/icons/player/forward.svg",alt:"Rewind 10s",width:24,height:24}),variant:"secondary",onClick:function(){return u(10)}})]}),(0,o.jsx)(E.xu,{css:{display:"flex",justifyContent:"center"},children:(0,o.jsx)(E.zx,{variant:"secondary",leftIcon:(0,o.jsx)(Q.default,{src:"/assets/plus/icons/player/star.svg",alt:"Rewind 10s",width:24,height:24}),css:{textTransform:"uppercase"},onClick:z,children:"Avaliar V\xeddeo"})}),p&&(0,o.jsx)(E.xu,{css:{"@mobile":{display:"none "}},children:(0,o.jsx)(E.hU,{icon:(0,o.jsx)(Q.default,{src:"/assets/plus/icons/player/theater.svg",alt:"Rewind 10s",width:24,height:24}),variant:"secondary",onClick:p})})]}),C?(0,o.jsx)(Ke,{visible:x,onCancel:T,currentTime:y}):(0,o.jsx)(ot,{visible:x})]})}));ht.displayName="VideoPlayer";var vt=(0,O.zo)("div",{width:"100%",height:"100%",paddingTop:"4.5rem"}),xt=(0,O.zo)("div",{display:"flex",flexDirection:"column",padding:"$10 0",background:"$grey-950","@mobile":{flexDirection:"column"}}),gt=(0,O.zo)("div",{flex:1,gap:"$4",display:"flex",flexDirection:"column",width:"100%",maxWidth:"70rem",padding:"0 $5",margin:"0 auto"}),bt=(0,O.zo)("div",{gap:"$3",display:"flex",flexDirection:"column",width:"100%"}),yt=(0,O.zo)("div",{gap:"$4",display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%","@mobile":{flexDirection:"column-reverse"}}),jt=(0,O.zo)("div",{gap:"$2",display:"flex",flexWrap:"wrap",marginTop:"$3",a:{textTransform:"uppercase",cursor:"pointer"}}),wt=(0,O.zo)("div",{gap:"$4",display:"flex"}),kt=(0,O.zo)("div",{gap:"$1",display:"flex",flexDirection:"column",justifyContent:"center",h2:{position:"relative",fontSize:"$md",color:"$grey-100",margin:0},"h2::after":{content:" ",width:"0.4rem",height:"0.4rem",borderRadius:"$full",background:"$grey-300",position:"absolute",margin:"0.5rem"},a:{fontWeight:"$bold",marginBottom:"-2px"}}),$t=(0,O.zo)("div",{maxWidth:"70rem",margin:"0 auto",padding:"$10 $5","@mobile":{padding:"$5"}}),Ct=(0,O.zo)("div",{gap:"2rem",display:"flex","@mobile":{flexDirection:"column"}});function zt(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}function St(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){zt(o,r,i,a,s,"next",e)}function s(e){zt(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var It={current:"Sala de aula",steps:[{label:"Plus",path:"/plus"}]},_t=(St(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){var e;return _.ud.getServerPage({context:T.wj,variables:{slug:null===(e=t.params)||void 0===e?void 0:e.slug}},t)},e.abrupt("return",(0,C.VF)(n,t,{onErrorRedirectPath:"/plus"}));case 2:case"end":return e.stop()}}),e)}))),(0,C.CG)(_.ud.withPage((function(e){var t;return{context:T.wj,variables:{slug:null===(t=e.query)||void 0===t?void 0:t.slug}}}))((function(e){var t=e.data,n=t.videoBySlug,r=(0,u.useRouter)(),p=(0,f.useState)(!1),C=p[0],_=p[1],R=(0,f.useState)(!1),O=R[0],P=R[1],W=(0,f.useState)(0),V=W[0],D=W[1],A=(0,$.Q)(),M=A.isFreemiumMember,N=A.isLoadingSubscriber,B=(0,F.R)(),L=B.playlist,X=B.dispatch,H=Tt(se(),2),G=H[0],Y=H[1],Q=Tt((0,S._)("@Skylab:plusWatchedTimeVideoId-".concat(n.id),0),2)[1],J=(0,f.useRef)(),K=(0,f.useRef)(),te=(0,f.useRef)(),ne=n.isPartOfPlaylist,re=n.creator.isFollowingCreator,ie=M&&!n.isFree,ae=M&&n.isFree,ce=n.files.nodes.length>0,le=(0,f.useMemo)((function(){var e=n.sections.totalCount>0,t=n.isPartOfPlaylist;return e||t}),[n.isPartOfPlaylist,n.sections.totalCount]),de=(0,f.useMemo)((function(){return n.releasedAt&&(0,a.Z)((0,s.Z)(new Date(n.releasedAt),1),"dd 'de' MMMM 'de' yyyy",{locale:c.Z})}),[n.releasedAt]),ue=(0,f.useMemo)((function(){var e=n.creator.videos.totalCount;return"".concat(e," ").concat(e>1?"videos":"video")}),[n.creator.videos.totalCount]),fe=Tt((0,I.pi)({context:T.wj,variables:{id:n.id},onCompleted:function(){X({type:"SET_PLAYLIST",payload:null===me||void 0===me?void 0:me.playlistByVideoId})}}),2),pe=fe[0],me=fe[1].data,he=Tt((0,I.yX)({context:T.wj,variables:{id:n.id},onError:function(){}}),1)[0],ve=Tt((0,I.o7)({context:T.wj,onError:function(){}}),1)[0],xe=Tt((0,I.WG)({context:T.wj,onError:function(){}}),1)[0],ge=Tt((0,I.Xm)({context:{service:"plus",showToastOnError:!1}}),1)[0],be=(0,f.useCallback)(St(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge({variables:{id:t},onError:function(){}});case 2:P(!0);case 3:case"end":return e.stop()}}),e)}))),[]),ye=(0,f.useCallback)((function(e){r.push("/plus/lesson/".concat(e))}),[r]),je=(0,f.useCallback)((function(e,t){var n=J.current;if(n){var r=Math.min(Math.max(0,t?e:n.currentTime()+e),n.duration());n.currentTime(r)}}),[J]),we=(0,f.useCallback)((0,v.throttle)((function(e){var t=n.id,r=e.time||e.seconds||0,i=n.sections.nodes.find((function(e,t){return t===n.sections.nodes.length-1?t:n.sections.nodes[t+1].time>r}));Q(e.time),e.time>39.99&&!O&&be(t),X({type:"SET_CURRENT",payload:{sectionId:i.id}})}),T.mX,{trailing:!1}),[X,n.sections.nodes,t,O,n.id]),ke=(0,f.useCallback)((function(){_((function(e){return!e}))}),[]),$e=(0,f.useCallback)((function(){var e=function(e){var t=e.currentVideo,n=e.playlist,r=n.videos.nodes.findIndex((function(e){return e.id===t.id}));return n.videos.nodes[r+1]}({currentVideo:n,playlist:L});e&&(K.current=setTimeout((function(){return ye(e.slug)}),T.D_),te.current=h.Am.success((0,o.jsxs)(o.Fragment,{children:["Pulando para o pr\xf3ximo v\xeddeo em ",T.D_/1e3," segundos. Clique para cancelar."]}),{autoClose:T.D_,pauseOnHover:!1,onClick:function(){return clearTimeout(K.current)}}))}),[ye,L,n]),Ce=(0,f.useCallback)(St(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he({update:function(e){e.modify({id:e.identify({__typename:"Video",id:n.id}),fields:{isWatchedVideo:function(){return!n.isWatchedVideo}},broadcast:!0})}});case 2:localStorage.removeItem("@Skylab:plusWatchedTimeVideoId-".concat(n.id)),G&&$e();case 4:case"end":return e.stop()}}),e)}))),[G,$e,he,n.id,n.isWatchedVideo]),ze=St(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=re?xe:ve,e.next=3,t({variables:{id:n.creator.id},update:function(e){e.modify({id:e.identify({__typename:"Creator",id:n.creator.id}),fields:{isFollowingCreator:function(){return!n.creator.isFollowingCreator}},broadcast:!1})}});case 3:case"end":return e.stop()}}),e)}))),Se=(0,f.useCallback)((function(){r.push("/plus")}),[r]);return(0,f.useEffect)((function(){X({type:"SET_VIDEO_DATA",payload:n})}),[X,n]),(0,f.useEffect)((function(){n.isPartOfPlaylist&&pe()}),[pe,n.isPartOfPlaylist]),(0,f.useEffect)((function(){var e=localStorage.getItem("@Skylab:plusWatchedTimeVideoId-".concat(n.id));e&&D(Number(e))}),[]),N?(0,o.jsx)(j.I,{}):(0,o.jsxs)(vt,{children:[(0,o.jsx)(l.default,{children:(0,o.jsxs)("title",{children:[n.title,"| Rocketseat"]})}),(0,o.jsx)(b.h,{fixed:!0}),(0,o.jsx)(x.W,{title:"Sala de aula",rightContent:(0,o.jsx)(k.G,{current:It.current,steps:It.steps}),onBack:Se}),(0,o.jsx)(xt,{children:(0,o.jsxs)(gt,{children:[(0,o.jsxs)(E.xu,{css:{gap:"$4",display:"flex","@mobile":{flexDirection:"column",gap:"$5"}},children:[ie?(0,o.jsx)(q,{}):(0,o.jsx)(ht,{platform:"panda",videoIdPlatform:n.id,videoId:n.jupiterVideoId,autoplay:G,onTimeUpdate:we,onEnd:Ce,onSeek:je,startTime:V,onToggleTheater:le&&ke,ref:J}),le&&(0,o.jsx)(Ee,{hidden:C,onSeek:je,onChangeAutoplay:Y})]}),(0,o.jsxs)(bt,{children:[(0,o.jsxs)(E.xu,{children:[(0,o.jsxs)(yt,{children:[(0,o.jsx)(E.X6,{size:{"@mobile":"sm"},children:n.title}),(0,o.jsx)(Z,{video:n})]}),(0,o.jsx)(jt,{children:n.tags.nodes.map((function(e){var t=e.slug,n=e.title;return(0,o.jsx)(d.default,{href:"/plus/tag/".concat(t),prefetch:!1,passHref:!0,children:(0,o.jsx)(E.Vp,{as:"a",size:"sm",children:n})},t)}))})]}),(0,o.jsxs)(wt,{children:[(0,o.jsx)(E.qE,{size:"md",name:n.creator.name,src:n.creator.avatarUrl||(0,z.o)(n.creator.name)}),(0,o.jsxs)(E.xu,{css:{flex:1,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,o.jsxs)(kt,{children:[(0,o.jsxs)(E.xu,{css:{gap:"$5",display:"flex"},children:[(0,o.jsx)(E.X6,{children:n.creator.name}),re?(0,o.jsx)(E.Qj,{as:"button",variant:"secondary",onClick:ze,children:"Deixar de seguir"}):(0,o.jsx)(E.Qj,{as:"button",variant:"primary",onClick:ze,children:"Seguir"})]}),(0,o.jsx)(E.xv,{css:{margin:0,fontSize:"$sm",color:"$grey-200"},children:ue})]}),(0,o.jsx)(E.xv,{size:{"@mobile":"sm"},css:{margin:"0","@mobile":{marginLeft:"$4",textAlign:"center"}},children:de})]})]})]})]})}),n.description&&(0,o.jsxs)($t,{children:[(0,o.jsxs)(w.mQ,{defaultValue:"description",children:[(0,o.jsx)(w.dr,{children:(0,o.jsx)(w.SP,{value:"description",children:"Descri\xe7\xe3o"})}),(0,o.jsx)(w.nU,{value:"description",children:(0,o.jsxs)(Ct,{children:[(0,o.jsx)(y.q,{children:(0,o.jsx)(m(),{source:n.description})}),ce&&(0,o.jsx)(U,{})]})})]}),ne&&(0,o.jsx)(oe,{}),ae&&(0,o.jsx)(ee,{})]}),(0,o.jsx)(g.$,{title:"Plus"})]})})))),Et=!0},33481:function(e,t,n){"use strict";function r(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(e[t]))})).join("&")}n.d(t,{T:function(){return r}})}},function(e){e.O(0,[9774,9866,5445,3662,2544,2091,724,6893,2016,3117,4659,8764,752,9972,2200,2077,8696,3527,867,2888,179],(function(){return t=46632,e(e.s=t);var t}));var t=e.O();_N_E=t}]);